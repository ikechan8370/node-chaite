import{_ as R}from"./delete-five-C9kDJ-1u.js";import{d as $,hN as B,r as d,v as M,i8 as P,b as j,o as z,w as o,e as n,u as i,i as F,N as S,B as r,g as a,i4 as V,y as A,i9 as D,H as E,E as K,gn as L}from"./index-CucaxZT9.js";import{_ as O}from"./add-one-DdEKtC9E.js";import{_ as H}from"./CopyText.vue_vue_type_script_setup_true_lang-BNFd7VaS.js";import{c as I}from"./system-BNhblR12.js";import{_ as U}from"./TableModal.vue_vue_type_script_setup_true_lang-Z8s3Usid.js";import{_ as q}from"./DataTable-DNEbLQCY.js";import{N as f}from"./Popconfirm-BAOdIYs0.js";import"./Ellipsis-BisKcmIj.js";import"./IconSelect.vue_vue_type_script_setup_true_lang-tmxLMwVt.js";import"./Pagination-DRiwVTMo.js";import"./prop-BjyUHhTu.js";import"./Tree-BGxU55bU.js";import"./Checkbox-D1L79b_W.js";import"./Grid-KISfveeX.js";import"./FormItemGridItem-Dp7BRbUe.js";import"./FormItem-Dc6zS2Y0.js";import"./RadioGroup-B2AZpoS6.js";import"./Radio-RTfkllD3.js";import"./InputNumber-cu9bhpU_.js";function G(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!L(l)}const _e=$({__name:"index",setup(l){const{bool:y,setTrue:g,setFalse:k}=B(!1);function w(e){window.$message.success(`删除菜单id:${e}`)}const s=d(),v=[{type:"selection",width:30},{title:"名称",key:"name",width:200},{title:"图标",align:"center",key:"icon",width:"6em",render:e=>e.icon&&D(e.icon,{size:20})},{title:"标题",align:"center",key:"title",ellipsis:{tooltip:!0}},{title:"路径",key:"path",render:e=>n(H,{value:e.path},null)},{title:"组件路径",key:"componentPath",ellipsis:{tooltip:!0},render:e=>e.componentPath||"-"},{title:"排序值",key:"order",align:"center",width:"6em"},{title:"菜单类型",align:"center",key:"menuType",width:"6em",render:e=>{const t=e.menuType||"page";return n(E,{type:{dir:"primary",page:"warning"}[t]},G(t)?t:{default:()=>[t]})}},{title:"操作",align:"center",key:"actions",width:"15em",render:e=>n(K,{justify:"center"},{default:()=>[n(r,{size:"small",onClick:()=>s.value.openModal("view",e)},{default:()=>[a("查看")]}),n(r,{size:"small",onClick:()=>s.value.openModal("edit",e)},{default:()=>[a("编辑")]}),n(f,{onPositiveClick:()=>w(e.id)},{default:()=>"确认删除",trigger:()=>n(r,{size:"small",type:"error"},{default:()=>[a("删除")]})})]})}],c=d([]);M(()=>{m()});async function m(){g();const{data:e}=await I();c.value=P(e),k()}const u=d([]);async function T(){window.$message.success(`批量删除id:${u.value.join(",")}`)}return(e,t)=>{const _=O,h=V,N=R,b=S,x=q,C=A;return z(),j(C,null,{header:o(()=>[n(i(r),{type:"primary",onClick:t[0]||(t[0]=p=>i(s).openModal("add"))},{icon:o(()=>[n(_)]),default:o(()=>[t[2]||(t[2]=a(" 新建 "))]),_:1})]),"header-extra":o(()=>[n(b,null,{default:o(()=>[n(i(r),{type:"primary",secondary:"",onClick:m},{icon:o(()=>[n(h)]),default:o(()=>[t[3]||(t[3]=a(" 刷新 "))]),_:1}),n(i(f),{onPositiveClick:T},{trigger:o(()=>[n(i(r),{type:"error",secondary:""},{icon:o(()=>[n(N)]),default:o(()=>[t[4]||(t[4]=a(" 批量删除 "))]),_:1})]),default:o(()=>[t[5]||(t[5]=a(" 确认删除所有选中菜单？ "))]),_:1})]),_:1})]),default:o(()=>[n(x,{"checked-row-keys":i(u),"onUpdate:checkedRowKeys":t[1]||(t[1]=p=>F(u)?u.value=p:null),"row-key":p=>p.id,columns:v,data:i(c),loading:i(y),size:"small","scroll-x":1200},null,8,["checked-row-keys","row-key","data","loading"]),n(U,{ref_key:"tableModalRef",ref:s,"all-routes":i(c),"modal-name":"菜单"},null,8,["all-routes"])]),_:1})}}});export{_e as default};
