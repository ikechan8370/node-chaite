import{d as Z,gH as ee,go as ne,bd as h,v as te,r as P,x as V,c as b,o,e as n,bf as ae,w as t,b as v,n as E,B as oe,aC as le,z as se,g as C,t as z,K as ce,u as r,i as I,S as re,U as ue,N as ie,M as y,am as S,hK as pe,j as _e,a as de,H as me,aW as ve,hL as fe,hM as ge}from"./index-CucaxZT9.js";import{_ as he}from"./Pagination-DRiwVTMo.js";const ke=Z({__name:"IconSelect",props:ee({disabled:{type:Boolean,default:!1}},{value:{type:String},valueModifiers:{}}),emits:["update:value"],setup(F){const f=ne(F,"value"),H=["icon-park-outline","carbon"];async function K(e){return await fetch(`https://api.iconify.design/collection?prefix=${e}`).then(a=>a.json())}async function O(e){const a=e.map(l=>K(l));return(await Promise.all(a)).map(l=>(l.icons=Object.entries(l.categories).reduce((x,L)=>{const[N,i]=L;return x.concat(i)},[]),l))}function R(e){const a=/\/([^/]+)\.svg$/,u=e.match(a);return u?u[1]:e}function A(){return pe(Object.assign({"/src/assets/svg-icons/cool.svg":ge,"/src/assets/svg-icons/logo.svg":fe}),(a,u)=>[R(a),u])}const $=h([]),T=h({});te(async()=>{$.value=await O(H),T.value=A()});const k=h(0),p=h("");function D(e){k.value=e,p.value=""}const w=P(""),_=h(1);function W(e){p.value=p.value===e?"":e,_.value=1}const M=V(()=>p.value?$.value[k.value]?.categories[p.value]:$.value[k.value].icons),B=V(()=>M.value?.filter(e=>e.includes(w.value))?.slice((_.value-1)*200,_.value*200)),d=P(!1);function U(e){f.value=e,d.value=!1}function q(){f.value="",d.value=!1}return(e,a)=>{const u=le,l=oe,x=se,L=ae,N=_e,i=ie,j=ue,G=me,J=ve,Q=he,X=re,Y=ce;return o(),b(y,null,[n(L,{disabled:""},{default:t(()=>[f.value?(o(),v(l,{key:0,disabled:e.disabled,type:"primary"},{icon:t(()=>[n(u,{icon:f.value},null,8,["icon"])]),_:1},8,["disabled"])):E("",!0),n(x,{value:f.value,readonly:"",placeholder:e.$t("components.iconSelector.inputPlaceholder")},null,8,["value","placeholder"]),n(l,{type:"primary",ghost:"",disabled:e.disabled,onClick:a[0]||(a[0]=s=>d.value=!0)},{default:t(()=>[C(z(e.$t("common.choose")),1)]),_:1},8,["disabled"])]),_:1}),n(Y,{show:r(d),"onUpdate:show":a[3]||(a[3]=s=>I(d)?d.value=s:null),preset:"card",title:e.$t("components.iconSelector.selectorTitle"),size:"small",class:"w-800px",bordered:!1},{"header-extra":t(()=>[n(l,{type:"warning",size:"small",ghost:"",onClick:q},{default:t(()=>[C(z(e.$t("components.iconSelector.clearIcon")),1)]),_:1})]),default:t(()=>[n(X,{value:r(k),type:"line",animated:"",placement:"left","onUpdate:value":D},{default:t(()=>[n(j,{name:"local",tab:"local"},{default:t(()=>[n(i,{size:2},{default:t(()=>[(o(!0),b(y,null,S(r(T),(s,m)=>(o(),v(N,{key:m,class:"hover:text-[var(--primary-color)] hover:ring-1 ring-[var(--primary-color)] p-1 rounded flex-center",title:`local:${m}`,onClick:c=>U(`local:${m}`)},{default:t(()=>[n(u,{icon:`local:${m}`,size:24},null,8,["icon"])]),_:2},1032,["title","onClick"]))),128))]),_:1})]),_:1}),(o(!0),b(y,null,S(r($),(s,m)=>(o(),v(j,{key:s.prefix,name:m,tab:s.title},{default:t(()=>[n(i,{vertical:""},{default:t(()=>[n(i,{size:"small"},{default:t(()=>[(o(!0),b(y,null,S(s.categories,(c,g)=>(o(),v(G,{key:g,checked:r(p)===g,round:"",checkable:"",size:"small","onUpdate:checked":be=>W(g)},{default:t(()=>[C(z(g),1)]),_:2},1032,["checked","onUpdate:checked"]))),128))]),_:2},1024),n(x,{value:r(w),"onUpdate:value":a[1]||(a[1]=c=>I(w)?w.value=c:null),type:"text",clearable:"",placeholder:e.$t("components.iconSelector.searchPlaceholder")},null,8,["value","placeholder"]),de("div",null,[n(i,{size:2},{default:t(()=>[(o(!0),b(y,null,S(r(B),c=>(o(),v(N,{key:c,class:"hover:text-[var(--primary-color)] hover:ring-1 ring-[var(--primary-color)] p-1 rounded flex-center",title:`${s.prefix}:${c}`,onClick:g=>U(`${s.prefix}:${c}`)},{default:t(()=>[n(u,{icon:`${s.prefix}:${c}`,size:24},null,8,["icon"])]),_:2},1032,["title","onClick"]))),128)),r(B).length===0?(o(),v(J,{key:0,class:"w-full"})):E("",!0)]),_:2},1024)]),n(i,{justify:"center"},{default:t(()=>[n(Q,{page:r(_),"onUpdate:page":a[2]||(a[2]=c=>I(_)?_.value=c:null),"item-count":r(M)?.length,"page-size":200},null,8,["page","item-count"])]),_:1})]),_:2},1024)]),_:2},1032,["name","tab"]))),128))]),_:1},8,["value"])]),_:1},8,["show","title"])],64)}}});export{ke as _};
