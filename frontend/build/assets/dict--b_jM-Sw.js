import{hE as c,hF as a}from"./index-CucaxZT9.js";import{f as r}from"./system-BNhblR12.js";const f=c("dict-store",{state:()=>({dictMap:{},isInitDict:!1}),actions:{async dict(t){this.dictMap||this.initDict();const i=await this.getDict(t);return{data:()=>i,enum:()=>Object.fromEntries(i.map(({value:s,label:e})=>[s,e])),valueMap:()=>Object.fromEntries(i.map(({value:s,...e})=>[s,e])),labelMap:()=>Object.fromEntries(i.map(({label:s,...e})=>[s,e]))}},async getDict(t){return Reflect.has(this.dictMap,t)?this.dictMap[t]:await this.getDictByNet(t)},async getDictByNet(t){const{data:i,isSuccess:s}=await r(t);if(s)return Reflect.set(this.dictMap,t,i),a.set("dict",this.dictMap),i;throw new Error(`Failed to get ${t} dictionary from network, check ${t} field or network`)},initDict(){const t=a.get("dict");t&&Object.assign(this.dictMap,t),this.isInitDict=!0}}});export{f as u};
