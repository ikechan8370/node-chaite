import{d as V,hN as B,r as d,v as j,b as w,o as A,w as n,a as F,e,y as S,u as o,N as u,B as i,g as l,i4 as q}from"./index-CucaxZT9.js";import{_ as G}from"./add-one-DdEKtC9E.js";import{_ as H}from"./CopyText.vue_vue_type_script_setup_true_lang-BNFd7VaS.js";import{f as I}from"./system-BNhblR12.js";import{u as J}from"./dict--b_jM-Sw.js";import{_ as D}from"./DictModal.vue_vue_type_script_setup_true_lang-Dy2zysXO.js";import{_ as K}from"./DataTable-DNEbLQCY.js";import{N as x}from"./Popconfirm-BAOdIYs0.js";import"./Ellipsis-BisKcmIj.js";import"./FormItem-Dc6zS2Y0.js";import"./InputNumber-cu9bhpU_.js";import"./Checkbox-D1L79b_W.js";import"./Radio-RTfkllD3.js";import"./RadioGroup-B2AZpoS6.js";import"./Pagination-DRiwVTMo.js";import"./prop-BjyUHhTu.js";const O={class:"basis-2/5"},Q={class:"flex-1"},ce=V({__name:"index",setup(U){const{bool:N,setTrue:L,setFalse:$}=B(!1),{bool:z,setTrue:M,setFalse:R}=B(!1),{getDictByNet:E}=J(),r=d(),c=d();j(()=>{p()});const f=d([]),m=d([]);async function p(){L();const{data:t,isSuccess:a}=await I();a&&(f.value=t),$()}const s=d("");async function _(t){M(),m.value=await E(t),s.value=t,R()}const P=[{title:"字典项",key:"label"},{title:"字典码",key:"code",render:t=>e(H,{value:t.code},null)},{title:"操作",key:"actions",align:"center",render:t=>e(u,{justify:"center"},{default:()=>[e(i,{size:"small",onClick:()=>_(t.code)},{default:()=>[l("查看字典")]}),e(i,{size:"small",onClick:()=>r.value.openModal("edit",t)},{default:()=>[l("编辑")]}),e(x,{onPositiveClick:()=>g(t.id)},{default:()=>e("span",null,[l("确认删除字典"),e("b",null,[t.label])," ",l("？")]),trigger:()=>e(i,{size:"small",type:"error"},{default:()=>[l("删除")]})})]})}],T=[{title:"字典名称",key:"label"},{title:"字典码",key:"code"},{title:"字典值",key:"value"},{title:"操作",key:"actions",align:"center",width:"15em",render:t=>e(u,{justify:"center"},{default:()=>[e(i,{size:"small",onClick:()=>c.value.openModal("edit",t)},{default:()=>[l("编辑")]}),e(x,{onPositiveClick:()=>g(t.id)},{default:()=>e("span",null,[l("确认删除字典值"),e("b",null,[t.label])," ",l("？")]),trigger:()=>e(i,{size:"small",type:"error"},{default:()=>[l("删除")]})})]})}];function g(t){window.$message.error(`删除字典${t}`)}return(t,a)=>{const y=G,k=q,C=K,b=S;return A(),w(o(u),null,{default:n(()=>[F("div",O,[e(b,null,{header:n(()=>[e(o(i),{type:"primary",onClick:a[0]||(a[0]=v=>o(r).openModal("add"))},{icon:n(()=>[e(y)]),default:n(()=>[a[3]||(a[3]=l(" 新建 "))]),_:1})]),"header-extra":n(()=>[e(o(u),null,{default:n(()=>[e(o(i),{type:"primary",secondary:"",onClick:p},{icon:n(()=>[e(k)]),default:n(()=>[a[4]||(a[4]=l(" 刷新 "))]),_:1})]),_:1})]),default:n(()=>[e(C,{columns:P,data:o(f),loading:o(N),pagination:!1,bordered:!1},null,8,["data","loading"])]),_:1})]),F("div",Q,[e(b,null,{header:n(()=>[e(o(i),{type:"primary",disabled:!o(s),onClick:a[1]||(a[1]=v=>o(c).openModal("add"))},{icon:n(()=>[e(y)]),default:n(()=>[a[5]||(a[5]=l(" 新建 "))]),_:1},8,["disabled"])]),"header-extra":n(()=>[e(o(u),null,{default:n(()=>[e(o(i),{type:"primary",disabled:!o(s),secondary:"",onClick:a[2]||(a[2]=v=>_(o(s)))},{icon:n(()=>[e(k)]),default:n(()=>[a[6]||(a[6]=l(" 刷新 "))]),_:1},8,["disabled"])]),_:1})]),default:n(()=>[e(C,{columns:T,data:o(m),loading:o(z),pagination:!1,bordered:!1},null,8,["data","loading"])]),_:1})]),e(D,{ref_key:"dictRef",ref:r,"modal-name":"字典项","is-root":""},null,512),e(D,{ref_key:"dictContentRef",ref:c,"modal-name":"字典值","dict-code":o(s)},null,8,["dict-code"])]),_:1})}}});export{ce as default};
