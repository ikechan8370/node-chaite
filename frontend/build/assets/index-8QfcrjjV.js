import{_ as V,G}from"./User-CTwJiXVU.js";import{_ as S}from"./add-one-DdEKtC9E.js";import{d as j,hN as E,r as i,v as H,b as I,o as q,w as o,e,y as A,u as a,E as f,N as J,z as K,B as _,g as u,C as O,D as Q,H as W,L as X}from"./index-CucaxZT9.js";import{_ as Y}from"./CopyText.vue_vue_type_script_setup_true_lang-BNFd7VaS.js";import{a as Z}from"./system-BNhblR12.js";import{_ as ee}from"./TableModal.vue_vue_type_script_setup_true_lang-yRBOkhDZ.js";import{_ as ne}from"./Tree-BGxU55bU.js";import{_ as te,a as oe}from"./FormItem-Dc6zS2Y0.js";import{_ as ae}from"./DataTable-DNEbLQCY.js";import{N as le}from"./Popconfirm-BAOdIYs0.js";import"./Pagination-DRiwVTMo.js";import"./prop-BjyUHhTu.js";import"./Ellipsis-BisKcmIj.js";import"./Grid-KISfveeX.js";import"./FormItemGridItem-Dp7BRbUe.js";import"./RadioGroup-B2AZpoS6.js";import"./Radio-RTfkllD3.js";import"./Checkbox-D1L79b_W.js";const Ce=j({__name:"index",setup(ie){const{bool:h,setTrue:x,setFalse:$}=E(!1),g={condition_1:"",condition_2:""},l=i({...g});function N(){l.value={...g}}const C=i(),m=i();function U(n){window.$message.success(`删除用户id:${n}`)}const w=[{title:"姓名",align:"center",key:"userName"},{title:"性别",align:"center",key:"gender",render:n=>{const t={0:"primary",1:"success"};if(n.gender)return e(W,{type:t[n.gender]},{default:()=>[G[n.gender]]})}},{title:"邮箱",align:"center",key:"email"},{title:"联系方式",align:"center",key:"tel",render:n=>e(Y,{value:n.tel},null)},{title:"状态",align:"center",key:"status",render:n=>e(X,{value:n.status,"checked-value":1,"unchecked-value":0,onUpdateValue:t=>B(t,n.id)},{checked:()=>"启用",unchecked:()=>"禁用"})},{title:"操作",align:"center",key:"actions",render:n=>e(f,{justify:"center"},{default:()=>[e(_,{size:"small",onClick:()=>m.value.openModal("edit",n)},{default:()=>[u("编辑")]}),e(le,{onPositiveClick:()=>U(n.id)},{default:()=>"确认删除",trigger:()=>e(_,{size:"small",type:"error"},{default:()=>[u("删除")]})})]})}],k=i(0),d=i([]);function B(n,t){const r=d.value.findIndex(s=>s.id===t);r>-1&&(d.value[r].status=n)}async function v(){x(),await Z().then(n=>{d.value=n.data.list,k.value=n.data.count,$()})}H(()=>{v()});function P(n,t){window.$message.success(`分页器:${n},${t}`)}const R=i([{id:"1",label:"安徽总公司",children:[{id:"2",label:"合肥分公司",children:[{id:"4",label:"财务部门"},{id:"5",label:"采购部门"}]},{id:"3",label:"芜湖分公司"}]}]);return(n,t)=>{const r=ne,s=A,y=K,b=oe,D=O,F=Q,p=J,L=te,M=S,T=ae,z=V;return q(),I(p,null,{default:o(()=>[e(s,{class:"w-70"},{default:o(()=>[e(r,{"block-line":"",data:a(R),"key-field":"id"},null,8,["data"])]),_:1}),e(a(f),{vertical:"",class:"flex-1"},{default:o(()=>[e(s,null,{default:o(()=>[e(L,{ref_key:"formRef",ref:C,model:a(l),"label-placement":"left",inline:"","show-feedback":!1},{default:o(()=>[e(p,null,{default:o(()=>[e(b,{label:"姓名",path:"condition_1"},{default:o(()=>[e(y,{value:a(l).condition_1,"onUpdate:value":t[0]||(t[0]=c=>a(l).condition_1=c),placeholder:"请输入"},null,8,["value"])]),_:1}),e(b,{label:"性别",path:"condition_2"},{default:o(()=>[e(y,{value:a(l).condition_2,"onUpdate:value":t[1]||(t[1]=c=>a(l).condition_2=c),placeholder:"请输入"},null,8,["value"])]),_:1}),e(p,{class:"ml-auto"},{default:o(()=>[e(a(_),{type:"primary",onClick:v},{icon:o(()=>[e(D)]),default:o(()=>[t[3]||(t[3]=u(" 搜索 "))]),_:1}),e(a(_),{strong:"",secondary:"",onClick:N},{icon:o(()=>[e(F)]),default:o(()=>[t[4]||(t[4]=u(" 重置 "))]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(s,{class:"flex-1"},{header:o(()=>[e(a(_),{type:"primary",onClick:t[2]||(t[2]=c=>a(m).openModal("add"))},{icon:o(()=>[e(M)]),default:o(()=>[t[5]||(t[5]=u(" 新建用户 "))]),_:1})]),default:o(()=>[e(a(f),{vertical:""},{default:o(()=>[e(T,{columns:w,data:a(d),loading:a(h)},null,8,["data","loading"]),e(z,{count:a(k),onChange:P},null,8,["count"])]),_:1}),e(ee,{ref_key:"modalRef",ref:m,"modal-name":"用户"},null,512)]),_:1})]),_:1})]),_:1})}}});export{Ce as default};
